import{m as C,n as p,r as f,J as b,j as r,K as g}from"./index-BDKDqaUa.js";import{S as x}from"./sweetalert2.esm.all-DV3w3JmD.js";import{C as w,a as B}from"./CRow-Drwme9RR.js";import{C as N,d as S,a,b as e,c as T}from"./CTable-DxMR79b8.js";import{a as y}from"./index.esm-HAxTNc2q.js";const R=()=>{const c=C(),{cartItems:n,loading:j}=p(s=>s.cartItems);f.useEffect(()=>{c(b())},[c]);const u=s=>{x.fire({title:"Are you sure?",text:"Do you want to remove this item from cart?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(l=>{l.isConfirmed&&(c(g(s)),x.fire("Deleted!","Cart item has been deleted.","success"))})};return r.jsx(r.Fragment,{children:r.jsx(w,{children:r.jsxs(B,{xs:12,children:[r.jsx("h1",{children:"All Cart Items"}),r.jsxs(N,{className:"table table-bordered mt-3",children:[r.jsx(S,{children:r.jsxs(a,{children:[r.jsx(e,{children:"S.No"}),r.jsx(e,{children:"User"}),r.jsx(e,{children:"Product"}),r.jsx(e,{children:"Image"}),r.jsx(e,{children:"Quantity"}),r.jsx(e,{children:"Price"}),r.jsx(e,{children:"Action"})]})}),r.jsx(T,{children:j?r.jsx(a,{children:r.jsx(e,{colSpan:7,children:"Loading..."})}):(n==null?void 0:n.length)>0?n==null?void 0:n.map((s,l)=>{var o,d,t,h,i;return r.jsxs(a,{children:[r.jsx(e,{children:l+1}),r.jsx(e,{children:((o=s==null?void 0:s.user)==null?void 0:o.name)||"Unknown"}),r.jsx(e,{children:(d=s==null?void 0:s.product)==null?void 0:d.productName}),r.jsx(e,{children:r.jsx("img",{src:(t=s==null?void 0:s.product)==null?void 0:t.productImage,alt:(h=s==null?void 0:s.product)==null?void 0:h.productName,width:80})}),r.jsx(e,{children:s.quantity}),r.jsxs(e,{children:["$",(i=s==null?void 0:s.product)==null?void 0:i.productPrice]}),r.jsx(e,{children:r.jsx(y,{color:"danger",onClick:()=>u(s._id),children:r.jsx("i",{className:"fa fa-trash"})})})]},s._id)}):r.jsx(a,{children:r.jsx(e,{colSpan:7,children:"No cart items found."})})})]})]})})})};export{R as default};
