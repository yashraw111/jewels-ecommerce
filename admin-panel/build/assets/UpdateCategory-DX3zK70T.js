import{n as j,z as u,m as f,k as N,r as o,V as b,j as e,G as y}from"./index-BDKDqaUa.js";import{u as w}from"./index.esm-to8rVDL0.js";import{C as _,a as U}from"./CRow-Drwme9RR.js";import{C as v,a as E}from"./CCardBody-BL8BmauO.js";import{C as L}from"./CForm-BDO8eQcd.js";import{C as R}from"./CCardHeader-Kl_7USnq.js";import{C as l}from"./CFormInput-mxbnGbwx.js";import{a as F}from"./index.esm-HAxTNc2q.js";import"./CFormControlWrapper-DmXcnnjc.js";import"./CFormControlValidation-BmWcrNFa.js";import"./CFormLabel-BK7n0Pmv.js";const O=()=>{var i;const{register:m,handleSubmit:n,formState:{errors:d},reset:p,watch:x}=w(),{CateList:C}=j(s=>s.Category),{id:c}=u(),t=f(),g=N(),r=x("cat_image");o.useEffect(()=>{t(b())},[t]);const a=C.find(s=>s._id===c);o.useEffect(()=>{a&&p({cat_name:a.cat_name})},[a]);const h=async s=>{await t(y({id:c,data:s})),g("/base/viewCategory")};return e.jsx(_,{children:e.jsx(U,{xs:12,children:e.jsx(v,{className:"mb-4 shadow",children:e.jsxs(L,{className:"form text-center",onSubmit:n(h),children:[e.jsx(R,{className:"text-start bg-dark text-white",children:e.jsx("strong",{className:"fs-3",children:"✏️ Update Category"})}),e.jsxs(E,{children:[e.jsx("label",{className:"mb-1",children:"Category Name"}),e.jsx(l,{type:"text",size:"lg",placeholder:"Enter Product Category",...m("cat_name",{required:"Category name is required"})}),e.jsx("p",{className:"text-danger",children:(i=d.cat_name)==null?void 0:i.message}),e.jsx("br",{}),e.jsx("label",{className:"mb-1",children:"Upload New Image (optional)"}),e.jsx(l,{type:"file",accept:"image/*",...m("cat_image")}),r&&r[0]?e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:URL.createObjectURL(r[0]),alt:"preview",height:100})}):a!=null&&a.cat_image?e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:a.cat_image,alt:"old",height:100})}):null,e.jsx(F,{type:"submit",color:"success",className:"mt-4 px-4",children:"Update"})]})]})})})})};export{O as default};
